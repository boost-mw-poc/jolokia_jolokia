<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia at 2023-07-12 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="keywords" content="jmx, rest, json, http, agent, jmx-rest-bridge, java, jmx4perl, jsr-160, jmx-rest"/>
    <title>Jolokia &#x2013; Jolokia Javascript Client library</title>
    <style type="text/css" media="all">
      @import url("../css/reset.css");
      @import url("../css/text.css");
      @import url("../css/960_24_col.css");
      @import url("../css/maven-base.css");
      @import url("../css/prettify.css");
      @import url("../css/maven-theme.css");
      @import url("../css/site.css");
    </style>
    <script data-cfasync="false" type="text/javascript">
       var host = "jolokia.org";
       if ((host == window.location.host) && (window.location.protocol != "https:")) {
            window.location.protocol = "https";
       }
    </script>
    <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-9534565-3']);
  _gaq.push(['_setDomainName', '.jolokia.org']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
    </script>
    <script type="text/javascript" src="../js/prettify/prettify.js"></script>
    <link rel="stylesheet" href="../css/print.css" type="text/css" media="print" />
    <link rel="icon" type="image/png" href="../images/favicon.png" />
      <meta name="author" content="Roland Huss" />
    <meta name="Date-Revision-yyyymmdd" content="20230712" />
    <meta http-equiv="Content-Language" content="en" />
     
  </head>
  <body class="composite" onload="prettyPrint()">
    <div class="container_24">

      <!-- Header -->
      <div class="grid_24 header">
        <div></div>
      </div>
      <div class="clear"></div>

      <!-- Top-Bar  -->
      <div class="grid_24 top_bar">
          <div class="top_left"></div>
      <div class="top_link">
        <a href="../index.html">Home</a>
    </div>
    <div class="top_sep"></div>
      <div class="top_link">
        <a href="../download.html">Download</a>
    </div>
    <div class="top_sep"></div>
      <div class="top_link">
        <a href="../features-nb.html">Features</a>
    </div>
    <div class="top_sep"></div>
      <div class="top_link">
        <a href="../documentation.html">Documentation</a>
    </div>
    <div class="top_sep"></div>
      <div class="top_link">
        <a href="../support.html">Support</a>
    </div>
    <div class="top_sep"></div>
      <div class="top_link">
        <a href="https://ro14nd.de">Blog</a>
    </div>
    <div class="top_sep"></div>
      <div class="top_link">
        <a href="../about.html">About</a>
    </div>
    <div class="top_sep"></div>
        </div>
      <div class="clear"></div>

      <!-- Main-Box  -->
      <div class="grid_24 main_box">
        <!-- Main-Top -->
        <div class="grid_24 alpha main_top"></div>
        <div class="grid_24 alpha main_content">
          <!-- Navigation -->
          <div class="grid_5 alpha">
                  <div class="navibox">
          <div class="navihead">
             <h5>Jolokia</h5>
            </div>    
            <div class="naviitems">
    <ul>
                  <li class="none">
                          <a href="../download.html" title="Download">Download</a>
            </li>
                  <li class="none">
                          <a href="../features-nb.html" title="Features">Features</a>
            </li>
                  <li class="none">
                          <a href="../support.html" title="Support">Support</a>
            </li>
                  <li class="none">
                          <a href="../forum.html" title="Forum">Forum</a>
            </li>
                  <li class="none">
                          <a href="../irc.html" title="IRC">IRC</a>
            </li>
                  <li class="none">
                          <a href="../license.html" title="License">License</a>
            </li>
          </ul>
    </div>
      </div>
      <div class="navibox">
          <div class="navihead">
             <h5>Documentation</h5>
            </div>    
            <div class="naviitems">
    <ul>
                  <li class="none">
                          <a href="../documentation.html" title="Overview">Overview</a>
            </li>
                  <li class="none">
                          <a href="../tutorial.html" title="Tutorial">Tutorial</a>
            </li>
                  <li class="none">
                          <a href="../reference/html/index.html" title="Reference Manual">Reference Manual</a>
            </li>
                  <li class="none">
                          <a href="../talks.html" title="Talks and Screencasts">Talks and Screencasts</a>
            </li>
          </ul>
    </div>
      </div>
      <div class="navibox">
          <div class="navihead">
             <h5>Agents</h5>
            </div>    
            <div class="naviitems">
    <ul>
                  <li class="none">
                          <a href="../agent.html" title="Overview">Overview</a>
            </li>
                  <li class="none">
                          <a href="../agent/war.html" title="Web Archive (war)">Web Archive (war)</a>
            </li>
                  <li class="none">
                          <a href="../agent/osgi.html" title="Osgi">Osgi</a>
            </li>
                  <li class="none">
                          <a href="../agent/jvm.html" title="JVM">JVM</a>
            </li>
                  <li class="none">
                          <a href="../agent/mule.html" title="Mule">Mule</a>
            </li>
          </ul>
    </div>
      </div>
      <div class="navibox">
          <div class="navihead">
             <h5>Clients</h5>
            </div>    
            <div class="naviitems">
    <ul>
                  <li class="none">
                          <a href="../client/java.html" title="Java">Java</a>
            </li>
                  <li class="none">
            <strong>Javascript</strong>
          </li>
                  <li class="none">
                          <a href="../client/perl.html" title="Perl">Perl</a>
            </li>
          </ul>
    </div>
      </div>
      <div class="navibox">
          <div class="navihead">
             <h5>Project Documentation</h5>
            </div>    
            <div class="naviitems">
    <ul>
                                                                                                                                                              <li class="collapsed">
                          <a href="../project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                    <li class="collapsed">
                          <a href="../project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
    </div>
      </div>
            </div>
          <!-- Main Box -->
          <div class="grid_18 omega">
            <div class="content_box grid_18 alpha">
              <div class="content_top_bg content_top grid_18 alpha"></div>
              <div class="content_content_bg content_content grid_18">
                <!-- ~ Copyright 2009-2013 Roland Huss
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~       http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License. -->

  
    <div class="section">
<h2><a name="Javascript_Client_Library"></a>Javascript Client Library</h2>
      
<p>
        Jolokia's Javascript client library allows for easy access to
        the Jolokia agent from within Javascript scripts. It
        encapsulates the JSON/HTTP access within a simple object
        layer.
      </p>
      
<p>
        The Javascript client binding provides the following features:
      </p>
      
<ul>
        
<li>Synchronous and asynchronous operations</li>
        
<li>Support for JSONP for accessing servers other than the one
        serving the Javscript file</li>
        
<li>Support for all Jolokia features like bulk requests or JMX
        proxy calls</li>
        
<li>Simple access methods like <tt>get_attribute</tt> or
        <tt>exec</tt> in addition to a generic
        <tt>request</tt> method.</li>
      </ul>
      
<p>
        Documentation for the Javascript library can be found in the
        reference manual in the chapter <a href="../reference/html/clients.html#client-javascript">Javascript
        Client Library</a>.
      </p>
      
<div class="section">
<h3><a name="Installation"></a>Installation</h3>
        
<p>
          The Jolokia Javascript library can be downloaded from the <a href="../download.html">download page</a>. It is divided
          into two scripts: <tt>jolokia.js</tt> contains the basic
          <tt>Jolokia</tt> object definition which provides the
          generic <tt>request()</tt>
          method. <tt>jolokia-simple.js</tt> adds to this
          definition methods for a simplified access, which are easier
          to use but less powerful. In addition these libs require <a class="externalLink" href="http://www.jquery.com">jQuery</a> and, if the target
          brosers don't support native JSON serialization, <a class="externalLink" href="https://github.com/douglascrockford/JSON-js">json2.js</a>. A typical setup in an HTML page
          using the library looks like:
        </p>
        
<div>
<pre class="pretty-print lang-html">
&lt;head&gt;
  &lt;script type=&quot;text/javascript&quot; src=&quot;jquery-1.7.2.js&quot;&gt;&lt;/script&gt;
  &lt;script type=&quot;text/javascript&quot; src=&quot;json2.js&quot;&gt;&lt;/script&gt;
  &lt;script type=&quot;text/javascript&quot; src=&quot;jolokia.js&quot;&gt;&lt;/script&gt;
  &lt;script type=&quot;text/javascript&quot; src=&quot;jolokia-simple.js&quot;&gt;&lt;/script&gt;
&lt;/head&gt;</pre></div>
        
<p>
          For production setup, the minified versions
          (e.g. <tt>jolokia-min.js</tt>) are recommended since the
          original are blown up with inline documentation.
        </p>
      </div>
      
<div class="section">
<h3><a name="Example"></a>Example</h3>
        
<p>
          The following simple example shows how to fetch the used
          Heap Memory from a Jolokia agent:
        </p>
        
<div>
<pre class="prettyprint lang-javascript">  // Create a new jolokia client accessing the agent on the same
  // Host which serves this document:
  var j4p = new Jolokia(&quot;/jolokia&quot;);

  // Request the memory information asynchronously and print it on
  // the console
  j4p.request(
     {
        type: &quot;read&quot;,
        mbean: &quot;java.lang:type=Memory&quot;,
        attribute: &quot;HeapMemoryUsage&quot;
     },
     {
        success: function(response) {
            console.log(JSON.stringify(response));
            console.log(&quot;Heap-Memory used: &quot; + response.value.used);
        }
     });

  // Same as above, but synchronously and with the simple API:
  console.log(&quot;Heap-Memory used:&quot; +
              j4p.getAttribute(&quot;java.lang.type=Memory&quot;,&quot;HeapMemoryUsage&quot;,&quot;used&quot;));</pre></div>
      </div>

    </div>
    
<div class="section">
<h2><a name="Jolokia_as_Cubism_source"></a>Jolokia as Cubism source</h2>
      
<p>
        <a class="externalLink" href="http://square.github.com/cubism/">Cubism</a> is a <a class="externalLink" href="http://d3js.org/">d3.js</a> plugin for plotting time
        series data. It can be easily be used with Jolokia for
        periodically reading JMX attributes and plotting them in the
        browser.
      </p>
      
<p>
        More details on the Jolokia-Cubism integration along with some
        demo can be found on an <a href="javascript-cubism.html">extra page</a>.
      </p>
    </div>

    
<div class="section">
<h2><a name="Testing"></a>Testing</h2>
      
<p>
        This library comes with a test webapplication for
        integration testing this library from within a browser. The
        submodule <tt>test-app</tt> creates a WAR artifact which
        can be deployed in a servlet container. The Jolokia agent is
        contained and reachable under the URL
        <tt>/jolokia</tt>. The unit tests can be found at
      </p>
      
<table border="0" class="bodyTable">
        <tbody>
          
<tr class="a">
            
<td><tt>jolokia-test.html</tt></td>
            
<td>QUnit tests for the base library</td>
          </tr>
          
<tr class="b">
            
<td><tt>jolokia-simple-test.html</tt></td>
            
<td>QUnit tests for the simple API</td>
          </tr>
          
<tr class="a">
            
<td><tt>jolokia-all-test.html</tt></td>
            
<td>All the tests above combined</td>
          </tr>
        </tbody>
      </table>
      
<p>
        This <tt>test-app</tt> is also configured for Jetty, so
        a
      </p>
      
<div>
<pre>mvn jetty:run-exploded</pre></div>
      
<p>
        will startup a Jetty and deploy this test application.
      </p>
      
<p>
        In order to simplify development of unit-test a shell script
        <tt>makeLinks.sh</tt> is included which can be used in
        unix like OSs to create symbolic links to the Javascript
        files in the source directories. A typical workflow looks
        like:
      </p>
      
<ul>
        
<li>Initialize:
          
<div>
<pre>mvn clean install
sh makeLinks.sh
mvn jetty:run-exploded</pre></div></li>
        
<li>Edit and save the Javascript files (e.g. <tt>jolokia.js</tt>
          or <tt>jolokia-test.js</tt>)</li>
        
<li>Reload the test HTML files in the browser</li>
      </ul>
    </div>
  

              </div>
              <div class="content_bottom_bg content_bottom grid_18 omega"></div>
            </div>
          </div>
          <div class="grid_24 alpha">
            <div class="copyright_footer">Copyright &#169;                   2023 Roland Hu&szlig;. 
          All Rights Reserved.      
                
                 <span id="publishDate">Last Published: 2023-07-12</span>
              &nbsp;| <span id="projectVersion">Version: 1.7.3-SNAPSHOT</span>
            </div>
          </div>
          <div class="clear"></div>
        </div>
        <!-- Main Bottom -->
        <div class="grid_24 alpha main_bottom"></div>        
      </div>
    </div>
  </body>
</html>
  
